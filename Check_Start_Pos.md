<!-- PROJECT LOGO -->
<br />
<div align="center">
  <h3 align="center">DARwIn-OP Robot Diagnostics</h3>
</div>

<!-- TABLE OF CONTENTS -->
<details>
  <summary>Содержание</summary>
  <ol>
    <li>
      <a href="#about-the-project">О проекте</a>
      <ul>
        <li><a href="#built-with">Используемые библиотеки</a></li>
      </ul>
    </li>
    <li><a href="#usage">Использование</a></li>
    <li><a href="#code-description">Описание кода</a></li>
  </ol>
</details>

<!-- ABOUT THE PROJECT -->
## О проекте

Этот проект представляет собой инструмент диагностики для **DARwIn-OP** — человекоподобного робота. Программа проверяет соединение с **CM-730**, считывает положения моторов и анализирует данные акселерометра для оценки устойчивости робота.

### Возможности
- Устанавливает соединение с контроллером **CM-730**.
- Проверяет версию прошивки мотора **MX-28** в правом плече.
- Оценивает начальные позиции моторов ног.
- Считывает значения акселерометра для анализа ориентации робота.
- Выводит диагностические сообщения о статусе системы.

### Используемые библиотеки
- **LinuxDARwIn**
- **C++ Standard Library**

<p align="right">(<a href="#readme-top">вернуться в начало</a>)</p>

<!-- USAGE -->
## Использование

### Компиляция программы
```bash
g++ -o diagnostics diagnostics.cpp -I./LinuxDARwIn/include -L./LinuxDARwIn/lib -lCM730 -lrobot
```

### Запуск программы
```bash
./diagnostics
```

## Обработка ошибок
- Если подключение к **CM-730** не удалось — программа завершает работу с ошибкой.
- Если не удалось считать **версию прошивки MX-28** — выводится ошибка.
- Если позиции моторов ног сильно отличаются от нормы — выводится предупреждение.
- Если данные акселерометра показывают нестабильное положение — программа предупреждает пользователя.

## Ожидаемый вывод
- В случае успешной проверки: `Success`
- В случае обнаружения проблемы: соответствующее сообщение об ошибке и завершение программы.

## Решение проблем
- Убедитесь, что **/dev/ttyUSB0** правильно назначен контроллеру CM-730.
- Проверьте, что робот включен и подключён к системе.
- Убедитесь, что библиотеки DARwIn-OP установлены корректно.

<!-- CODE DESCRIPTION -->
## Описание кода

Программа выполняет следующие шаги:
1. **Инициализация соединения**: создаётся объект `CM730`, который отвечает за взаимодействие с аппаратной частью робота через порт `/dev/ttyUSB0`.
2. **Проверка соединения**: если связь с контроллером не установлена, программа завершает работу с ошибкой.
3. **Чтение версии прошивки**: запрашивается версия прошивки мотор-редуктора **MX-28** в правом плече. Если не удаётся получить данные, программа завершает работу.
4. **Проверка положения ног**: считываются текущие позиции моторов ног и сравниваются с предопределёнными значениями. Если отклонение превышает порог `20°`, программа сообщает об опасности.
5. **Анализ данных акселерометра**: измеряются значения ускорений по трём осям (X, Y, Z). Если они отклоняются от нормальных значений (`512` для X и Y, `640` для Z), программа выводит предупреждение.
6. **Вывод результата**: если все проверки пройдены успешно, программа выводит `Success`, в противном случае сообщает об обнаруженных проблемах.

<p align="right">(<a href="#readme-top">вернуться в начало</a>)</p>